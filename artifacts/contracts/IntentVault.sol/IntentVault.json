{
  "_format": "hh-sol-artifact-1",
  "contractName": "IntentVault",
  "sourceName": "contracts/IntentVault.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "usdc",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "USDC",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "batcher",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "intentId",
          "type": "uint256"
        }
      ],
      "name": "cancelIntent",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "depositUSDC",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "intents",
      "outputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "fheAmount",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "fheBudget",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "fheUntil",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "fheFreq",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "fheDynRule",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "intentId",
          "type": "uint256"
        }
      ],
      "name": "markConsumed",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "b",
          "type": "address"
        }
      ],
      "name": "setBatcher",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "encAmount",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "encBudget",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "encFreq",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "encUntil",
          "type": "bytes"
        },
        {
          "internalType": "bytes",
          "name": "encDynRule",
          "type": "bytes"
        }
      ],
      "name": "storeIntent",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "intentId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "userActiveIntents",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "ids",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60a0604052348015600f57600080fd5b506040516110bf3803806110bf833981016040819052602c916048565b6001600160a01b03166080526002805460010181556000526076565b600060208284031215605957600080fd5b81516001600160a01b0381168114606f57600080fd5b9392505050565b6080516110276100986000396000818161011c0152610ab701526110276000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c806389a302711161006657806389a30271146101175780638cc8fb2a1461013e578063a0a31aac1461015e578063e00c3f7f14610171578063f688bcfb1461019257600080fd5b8063025a3a2914610098578063058a8e5f146100c85780631c3c3e03146100dd57806346a1a095146100f0575b600080fd5b6000546100ab906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6100db6100d6366004610b71565b6101a5565b005b6100db6100eb366004610ba1565b610226565b6101036100fe366004610ba1565b6102b5565b6040516100bf989796959493929190610c00565b6100ab7f000000000000000000000000000000000000000000000000000000000000000081565b61015161014c366004610b71565b6105bf565b6040516100bf9190610c92565b6100db61016c366004610ba1565b610785565b61018461017f366004610d1f565b61083f565b6040519081526020016100bf565b6100db6101a0366004610ba1565b610a95565b6000546001600160a01b031615806101c757506000546001600160a01b031633145b6102045760405162461bcd60e51b81526020600482015260096024820152683337b93134b23232b760b91b60448201526064015b60405180910390fd5b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000546001600160a01b0316331461026f5760405162461bcd60e51b815260206004820152600c60248201526b37b7363c903130ba31b432b960a11b60448201526064016101fb565b60006002828154811061028457610284610e10565b60009182526020909120600890910201600781015490915060ff16156102b15760078101805460ff191690555b5050565b600281815481106102c557600080fd5b6000918252602090912060089091020180546001820180546001600160a01b039092169350906102f490610e26565b80601f016020809104026020016040519081016040528092919081815260200182805461032090610e26565b801561036d5780601f106103425761010080835404028352916020019161036d565b820191906000526020600020905b81548152906001019060200180831161035057829003601f168201915b50505050509080600201805461038290610e26565b80601f01602080910402602001604051908101604052809291908181526020018280546103ae90610e26565b80156103fb5780601f106103d0576101008083540402835291602001916103fb565b820191906000526020600020905b8154815290600101906020018083116103de57829003601f168201915b50505050509080600301805461041090610e26565b80601f016020809104026020016040519081016040528092919081815260200182805461043c90610e26565b80156104895780601f1061045e57610100808354040283529160200191610489565b820191906000526020600020905b81548152906001019060200180831161046c57829003601f168201915b50505050509080600401805461049e90610e26565b80601f01602080910402602001604051908101604052809291908181526020018280546104ca90610e26565b80156105175780601f106104ec57610100808354040283529160200191610517565b820191906000526020600020905b8154815290600101906020018083116104fa57829003601f168201915b50505050509080600501805461052c90610e26565b80601f016020809104026020016040519081016040528092919081815260200182805461055890610e26565b80156105a55780601f1061057a576101008083540402835291602001916105a5565b820191906000526020600020905b81548152906001019060200180831161058857829003601f168201915b50505050600683015460079093015491929160ff16905088565b6001600160a01b038116600090815260016020908152604080832080548251818502810185019093528083526060949383018282801561061e57602002820191906000526020600020905b81548152602001906001019080831161060a575b50505050509050600080600090505b825181101561069457600283828151811061064a5761064a610e10565b60200260200101518154811061066257610662610e10565b600091825260209091206007600890920201015460ff161561068c578161068881610e76565b9250505b60010161062d565b508067ffffffffffffffff8111156106ae576106ae610e8f565b6040519080825280602002602001820160405280156106d7578160200160208202803683370190505b5092506000805b835181101561077c5760028482815181106106fb576106fb610e10565b60200260200101518154811061071357610713610e10565b600091825260209091206007600890920201015460ff16156107745783818151811061074157610741610e10565b602002602001015185838061075590610e76565b94508151811061076757610767610e10565b6020026020010181815250505b6001016106de565b50505050919050565b60006002828154811061079a5761079a610e10565b6000918252602090912060089091020180549091506001600160a01b031633146107f25760405162461bcd60e51b81526020600482015260096024820152683737ba1037bbb732b960b91b60448201526064016101fb565b600781015460ff166108315760405162461bcd60e51b8152602060048201526008602482015267696e61637469766560c01b60448201526064016101fb565b600701805460ff1916905550565b60006002604051806101000160405280336001600160a01b031681526020018d8d8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8e018190048102820181019092528c815291810191908d908d9081908401838280828437600092019190915250505090825250604080516020601f8a0181900481028201810190925288815291810191908990899081908401838280828437600092019190915250505090825250604080516020601f8c018190048102820181019092528a815291810191908b908b9081908401838280828437600092019190915250505090825250604080516020601f8801819004810282018101909252868152918101919087908790819084018382808284376000920182905250938552505042602080850191909152600160409094018490528554808501875595835291829020845160089096020180546001600160a01b0319166001600160a01b0390961695909517855550820151919291908201906109dd9082610ef6565b50604082015160028201906109f29082610ef6565b5060608201516003820190610a079082610ef6565b5060808201516004820190610a1c9082610ef6565b5060a08201516005820190610a319082610ef6565b5060c0820151600682015560e0909101516007909101805460ff1916911515919091179055600254610a6590600190610fb6565b3360009081526001602081815260408320805492830181558352909120018190559b9a5050505050505050505050565b6040516323b872dd60e01b8152336004820152306024820152604481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610b08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2c9190610fcf565b610b6e5760405162461bcd60e51b81526020600482015260136024820152721d1c985b9cd9995c919c9bdb4819985a5b1959606a1b60448201526064016101fb565b50565b600060208284031215610b8357600080fd5b81356001600160a01b0381168114610b9a57600080fd5b9392505050565b600060208284031215610bb357600080fd5b5035919050565b6000815180845260005b81811015610be057602081850181015186830182015201610bc4565b506000602082860101526020601f19601f83011685010191505092915050565b6001600160a01b038916815261010060208201819052600090610c258382018b610bba565b90508281036040840152610c39818a610bba565b90508281036060840152610c4d8189610bba565b90508281036080840152610c618188610bba565b905082810360a0840152610c758187610bba565b60c0840195909552505090151560e0909101529695505050505050565b6020808252825182820181905260009190848201906040850190845b81811015610cca57835183529284019291840191600101610cae565b50909695505050505050565b60008083601f840112610ce857600080fd5b50813567ffffffffffffffff811115610d0057600080fd5b602083019150836020828501011115610d1857600080fd5b9250929050565b60008060008060008060008060008060a08b8d031215610d3e57600080fd5b8a3567ffffffffffffffff80821115610d5657600080fd5b610d628e838f01610cd6565b909c509a5060208d0135915080821115610d7b57600080fd5b610d878e838f01610cd6565b909a50985060408d0135915080821115610da057600080fd5b610dac8e838f01610cd6565b909850965060608d0135915080821115610dc557600080fd5b610dd18e838f01610cd6565b909650945060808d0135915080821115610dea57600080fd5b50610df78d828e01610cd6565b915080935050809150509295989b9194979a5092959850565b634e487b7160e01b600052603260045260246000fd5b600181811c90821680610e3a57607f821691505b602082108103610e5a57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b600060018201610e8857610e88610e60565b5060010190565b634e487b7160e01b600052604160045260246000fd5b601f821115610ef1576000816000526020600020601f850160051c81016020861015610ece5750805b601f850160051c820191505b81811015610eed57828155600101610eda565b5050505b505050565b815167ffffffffffffffff811115610f1057610f10610e8f565b610f2481610f1e8454610e26565b84610ea5565b602080601f831160018114610f595760008415610f415750858301515b600019600386901b1c1916600185901b178555610eed565b600085815260208120601f198616915b82811015610f8857888601518255948401946001909101908401610f69565b5085821015610fa65787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81810381811115610fc957610fc9610e60565b92915050565b600060208284031215610fe157600080fd5b81518015158114610b9a57600080fdfea264697066735822122068bab31a8d8031004f5b6dd547fdebef241e7119bc9814467f6951a3c754c79e64736f6c63430008190033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100935760003560e01c806389a302711161006657806389a30271146101175780638cc8fb2a1461013e578063a0a31aac1461015e578063e00c3f7f14610171578063f688bcfb1461019257600080fd5b8063025a3a2914610098578063058a8e5f146100c85780631c3c3e03146100dd57806346a1a095146100f0575b600080fd5b6000546100ab906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b6100db6100d6366004610b71565b6101a5565b005b6100db6100eb366004610ba1565b610226565b6101036100fe366004610ba1565b6102b5565b6040516100bf989796959493929190610c00565b6100ab7f000000000000000000000000000000000000000000000000000000000000000081565b61015161014c366004610b71565b6105bf565b6040516100bf9190610c92565b6100db61016c366004610ba1565b610785565b61018461017f366004610d1f565b61083f565b6040519081526020016100bf565b6100db6101a0366004610ba1565b610a95565b6000546001600160a01b031615806101c757506000546001600160a01b031633145b6102045760405162461bcd60e51b81526020600482015260096024820152683337b93134b23232b760b91b60448201526064015b60405180910390fd5b600080546001600160a01b0319166001600160a01b0392909216919091179055565b6000546001600160a01b0316331461026f5760405162461bcd60e51b815260206004820152600c60248201526b37b7363c903130ba31b432b960a11b60448201526064016101fb565b60006002828154811061028457610284610e10565b60009182526020909120600890910201600781015490915060ff16156102b15760078101805460ff191690555b5050565b600281815481106102c557600080fd5b6000918252602090912060089091020180546001820180546001600160a01b039092169350906102f490610e26565b80601f016020809104026020016040519081016040528092919081815260200182805461032090610e26565b801561036d5780601f106103425761010080835404028352916020019161036d565b820191906000526020600020905b81548152906001019060200180831161035057829003601f168201915b50505050509080600201805461038290610e26565b80601f01602080910402602001604051908101604052809291908181526020018280546103ae90610e26565b80156103fb5780601f106103d0576101008083540402835291602001916103fb565b820191906000526020600020905b8154815290600101906020018083116103de57829003601f168201915b50505050509080600301805461041090610e26565b80601f016020809104026020016040519081016040528092919081815260200182805461043c90610e26565b80156104895780601f1061045e57610100808354040283529160200191610489565b820191906000526020600020905b81548152906001019060200180831161046c57829003601f168201915b50505050509080600401805461049e90610e26565b80601f01602080910402602001604051908101604052809291908181526020018280546104ca90610e26565b80156105175780601f106104ec57610100808354040283529160200191610517565b820191906000526020600020905b8154815290600101906020018083116104fa57829003601f168201915b50505050509080600501805461052c90610e26565b80601f016020809104026020016040519081016040528092919081815260200182805461055890610e26565b80156105a55780601f1061057a576101008083540402835291602001916105a5565b820191906000526020600020905b81548152906001019060200180831161058857829003601f168201915b50505050600683015460079093015491929160ff16905088565b6001600160a01b038116600090815260016020908152604080832080548251818502810185019093528083526060949383018282801561061e57602002820191906000526020600020905b81548152602001906001019080831161060a575b50505050509050600080600090505b825181101561069457600283828151811061064a5761064a610e10565b60200260200101518154811061066257610662610e10565b600091825260209091206007600890920201015460ff161561068c578161068881610e76565b9250505b60010161062d565b508067ffffffffffffffff8111156106ae576106ae610e8f565b6040519080825280602002602001820160405280156106d7578160200160208202803683370190505b5092506000805b835181101561077c5760028482815181106106fb576106fb610e10565b60200260200101518154811061071357610713610e10565b600091825260209091206007600890920201015460ff16156107745783818151811061074157610741610e10565b602002602001015185838061075590610e76565b94508151811061076757610767610e10565b6020026020010181815250505b6001016106de565b50505050919050565b60006002828154811061079a5761079a610e10565b6000918252602090912060089091020180549091506001600160a01b031633146107f25760405162461bcd60e51b81526020600482015260096024820152683737ba1037bbb732b960b91b60448201526064016101fb565b600781015460ff166108315760405162461bcd60e51b8152602060048201526008602482015267696e61637469766560c01b60448201526064016101fb565b600701805460ff1916905550565b60006002604051806101000160405280336001600160a01b031681526020018d8d8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250604080516020601f8e018190048102820181019092528c815291810191908d908d9081908401838280828437600092019190915250505090825250604080516020601f8a0181900481028201810190925288815291810191908990899081908401838280828437600092019190915250505090825250604080516020601f8c018190048102820181019092528a815291810191908b908b9081908401838280828437600092019190915250505090825250604080516020601f8801819004810282018101909252868152918101919087908790819084018382808284376000920182905250938552505042602080850191909152600160409094018490528554808501875595835291829020845160089096020180546001600160a01b0319166001600160a01b0390961695909517855550820151919291908201906109dd9082610ef6565b50604082015160028201906109f29082610ef6565b5060608201516003820190610a079082610ef6565b5060808201516004820190610a1c9082610ef6565b5060a08201516005820190610a319082610ef6565b5060c0820151600682015560e0909101516007909101805460ff1916911515919091179055600254610a6590600190610fb6565b3360009081526001602081815260408320805492830181558352909120018190559b9a5050505050505050505050565b6040516323b872dd60e01b8152336004820152306024820152604481018290527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303816000875af1158015610b08573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610b2c9190610fcf565b610b6e5760405162461bcd60e51b81526020600482015260136024820152721d1c985b9cd9995c919c9bdb4819985a5b1959606a1b60448201526064016101fb565b50565b600060208284031215610b8357600080fd5b81356001600160a01b0381168114610b9a57600080fd5b9392505050565b600060208284031215610bb357600080fd5b5035919050565b6000815180845260005b81811015610be057602081850181015186830182015201610bc4565b506000602082860101526020601f19601f83011685010191505092915050565b6001600160a01b038916815261010060208201819052600090610c258382018b610bba565b90508281036040840152610c39818a610bba565b90508281036060840152610c4d8189610bba565b90508281036080840152610c618188610bba565b905082810360a0840152610c758187610bba565b60c0840195909552505090151560e0909101529695505050505050565b6020808252825182820181905260009190848201906040850190845b81811015610cca57835183529284019291840191600101610cae565b50909695505050505050565b60008083601f840112610ce857600080fd5b50813567ffffffffffffffff811115610d0057600080fd5b602083019150836020828501011115610d1857600080fd5b9250929050565b60008060008060008060008060008060a08b8d031215610d3e57600080fd5b8a3567ffffffffffffffff80821115610d5657600080fd5b610d628e838f01610cd6565b909c509a5060208d0135915080821115610d7b57600080fd5b610d878e838f01610cd6565b909a50985060408d0135915080821115610da057600080fd5b610dac8e838f01610cd6565b909850965060608d0135915080821115610dc557600080fd5b610dd18e838f01610cd6565b909650945060808d0135915080821115610dea57600080fd5b50610df78d828e01610cd6565b915080935050809150509295989b9194979a5092959850565b634e487b7160e01b600052603260045260246000fd5b600181811c90821680610e3a57607f821691505b602082108103610e5a57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052601160045260246000fd5b600060018201610e8857610e88610e60565b5060010190565b634e487b7160e01b600052604160045260246000fd5b601f821115610ef1576000816000526020600020601f850160051c81016020861015610ece5750805b601f850160051c820191505b81811015610eed57828155600101610eda565b5050505b505050565b815167ffffffffffffffff811115610f1057610f10610e8f565b610f2481610f1e8454610e26565b84610ea5565b602080601f831160018114610f595760008415610f415750858301515b600019600386901b1c1916600185901b178555610eed565b600085815260208120601f198616915b82811015610f8857888601518255948401946001909101908401610f69565b5085821015610fa65787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b81810381811115610fc957610fc9610e60565b92915050565b600060208284031215610fe157600080fd5b81518015158114610b9a57600080fdfea264697066735822122068bab31a8d8031004f5b6dd547fdebef241e7119bc9814467f6951a3c754c79e64736f6c63430008190033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
